// i18n - Internationalization
export const i18n = {
    en: {
        uploadJson: 'Upload',
        pasteText: 'Paste',
        download: 'Download',
        copy: 'Copy',
        copied: 'Copied!',
        clear: 'Clear',
        expandAll: 'Expand All',
        collapse: 'Collapse',
        editValue: 'Edit Value',
        addNode: 'Add Node',
        addGroup: 'Add { } Group',
        addList: 'Add [ ] List',
        rename: 'Rename',
        delete: 'Delete',
        pasteJsonData: 'Paste JSON Data',
        pasteJSON: 'Paste JSON',
        cancel: 'Cancel',
        visualize: 'Visualize',
        save: 'Save',
        add: 'Add',
        key: 'Key',
        value: 'Value',
        renameKey: 'Rename Key',
        addNodeTitle: 'Add Node',
        addValueToList: 'Add Value to List',
        addGroupTitle: 'Add Group',
        addListTitle: 'Add List',
        nameLabel: 'Name',
        emptyPlaceholder: 'Open a JSON file to visualize it!',
        noJsonData: 'No JSON data',
        invalidJson: 'Invalid JSON',
        clearConfirm: 'Clear all data?',
        cannotDeleteRoot: 'Cannot delete root',
        keyRequired: 'Key is required',
        keyExists: 'Key already exists',
        failedToCopy: 'Failed to copy',
        tooltip: 'Right-Click / Long-press',
        copyKey: 'Copy Key',
        copyValue: 'Copy Value',
        msgVisualized: 'JSON Visualized!',
        msgSaved: 'Value Saved',
        msgAdded: 'Node Added',
        msgDeleted: 'Node Deleted',
        msgCleared: 'Cleared All Data',
        duplicate: 'Duplicate',

        viewTraditional: 'Traditional',
        saveLocal: 'Save',
        savedLocally: 'Saved locally!',
        loadedFromLocal: 'Loaded from local storage'
    },
    zh: {
        uploadJson: '上传',
        pasteText: '粘贴',
        download: '下载',
        copy: '复制',
        copied: '已复制!',
        clear: '清空',
        expandAll: '全部展开',
        collapse: '全部折叠',
        editValue: '编辑值',
        addNode: '添加节点',
        addGroup: '添加 { } 组',
        addList: '添加 [ ] 列表',
        rename: '重命名',
        delete: '删除',
        pasteJsonData: '粘贴 JSON 数据',
        pasteJSON: '粘贴 JSON',
        cancel: '取消',
        visualize: '可视化',
        save: '保存',
        add: '添加',
        key: '键名',
        value: '值',
        renameKey: '重命名键',
        addNodeTitle: '添加节点',
        addValueToList: '添加值到列表',
        addGroupTitle: '添加组',
        addListTitle: '添加列表',
        nameLabel: '名称',
        emptyPlaceholder: '打开一个 JSON 文件来可视化！',
        noJsonData: '没有 JSON 数据',
        invalidJson: '无效的 JSON',
        clearConfirm: '清空所有数据？',
        cannotDeleteRoot: '无法删除根节点',
        keyRequired: '键名是必填的',
        keyExists: '键名已存在',
        failedToCopy: '复制失败',
        tooltip: '右键点击 / 长按',
        copyKey: '复制键名',
        copyValue: '复制值',
        msgVisualized: 'JSON 加载成功！',
        msgSaved: '已保存',
        msgAdded: '已添加',
        msgDeleted: '已删除',
        msgCleared: '数据已清空',
        duplicate: '复制一份',

        viewTraditional: '传统视图',
        saveLocal: '保存',
        savedLocally: '已保存到本地！',
        loadedFromLocal: '已从本地加载'
    },
    ja: {
        uploadJson: 'アップロード',
        pasteText: '貼り付け',
        download: 'ダウンロード',
        copy: 'コピー',
        copied: 'コピー完了!',
        clear: 'クリア',
        expandAll: '展開',
        collapse: '折畳',
        editValue: '値を編集',
        addNode: 'ノードを追加',
        addGroup: '{ } グループを追加',
        addList: '[ ] リストを追加',
        rename: '名前を変更',
        delete: '削除',
        pasteJsonData: 'JSONデータを貼り付け',
        pasteJSON: 'JSONを貼り付け',
        cancel: 'キャンセル',
        visualize: '可視化',
        save: '保存',
        add: '追加',
        key: 'キー',
        value: '値',
        renameKey: 'キー名を変更',
        addNodeTitle: 'ノードを追加',
        addValueToList: 'リストに値を追加',
        addGroupTitle: 'グループを追加',
        addListTitle: 'リストを追加',
        nameLabel: '名前',
        emptyPlaceholder: 'JSONファイルを開いて可視化しましょう！',
        noJsonData: 'JSONデータがありません',
        invalidJson: '無効なJSONです',
        clearConfirm: 'すべてのデータをクリアしますか？',
        cannotDeleteRoot: 'ルートノードは削除できません',
        keyRequired: 'キーは必須です',
        keyExists: 'キーは既に存在します',
        failedToCopy: 'コピーに失敗しました',
        tooltip: '右クリック / 長押し',
        copyKey: 'キーをコピー',
        copyValue: '値をコピー',
        msgVisualized: 'JSONを読み込みました！',
        msgSaved: '保存しました',
        msgAdded: '追加しました',
        msgDeleted: '削除しました',
        msgCleared: 'データをクリアしました',
        duplicate: '複製',

        viewTraditional: 'ツリー',
        saveLocal: '保存',
        savedLocally: 'ローカルに保存しました！',
        loadedFromLocal: 'ローカルから読み込みました'
    }
};

export type LangKey = keyof typeof i18n;
export type TranslationType = typeof i18n.en;

// Language detection with localStorage persistence
export function detectLanguage(): LangKey {
    const saved = localStorage.getItem('jsonviz-lang');
    if (saved && saved in i18n) return saved as LangKey;
    const userLang = (navigator.language || 'en').toLowerCase();
    return userLang.startsWith('zh') ? 'zh' : 'en';
}
