// i18n - Internationalization
export const i18n = {
    en: {
        uploadJson: 'Upload JSON',
        pasteText: 'Paste Text',
        download: 'Download',
        copy: 'Copy',
        copied: 'Copied!',
        clear: 'Clear',
        expandAll: 'Expand All',
        collapse: 'Collapse',
        editValue: 'Edit Value',
        addNode: 'Add Node',
        addGroup: 'Add { } Group',
        addList: 'Add [ ] List',
        rename: 'Rename',
        delete: 'Delete',
        pasteJsonData: 'Paste JSON Data',
        cancel: 'Cancel',
        visualize: 'Visualize',
        save: 'Save',
        add: 'Add',
        key: 'Key',
        value: 'Value',
        renameKey: 'Rename Key',
        addNodeTitle: 'Add Node',
        addValueToList: 'Add Value to List',
        addGroupTitle: 'Add Group',
        addListTitle: 'Add List',
        nameLabel: 'Name',
        emptyPlaceholder: 'Open a JSON file to visualize it!',
        noJsonData: 'No JSON data',
        invalidJson: 'Invalid JSON',
        clearConfirm: 'Clear all data?',
        cannotDeleteRoot: 'Cannot delete root',
        keyRequired: 'Key is required',
        keyExists: 'Key already exists',
        failedToCopy: 'Failed to copy',
        tooltip: 'Right-Click / Long-press',
        copyKey: 'Copy Key',
        copyValue: 'Copy Value',
        msgVisualized: 'JSON Visualized!',
        msgSaved: 'Value Saved',
        msgAdded: 'Node Added',
        msgDeleted: 'Node Deleted',
        msgCleared: 'Cleared All Data'
    },
    zh: {
        uploadJson: '上传 JSON',
        pasteText: '粘贴文本',
        download: '下载',
        copy: '复制',
        copied: '已复制!',
        clear: '清空',
        expandAll: '全部展开',
        collapse: '全部折叠',
        editValue: '编辑值',
        addNode: '添加节点',
        addGroup: '添加 { } 组',
        addList: '添加 [ ] 列表',
        rename: '重命名',
        delete: '删除',
        pasteJsonData: '粘贴 JSON 数据',
        cancel: '取消',
        visualize: '可视化',
        save: '保存',
        add: '添加',
        key: '键名',
        value: '值',
        renameKey: '重命名键',
        addNodeTitle: '添加节点',
        addValueToList: '添加值到列表',
        addGroupTitle: '添加组',
        addListTitle: '添加列表',
        nameLabel: '名称',
        emptyPlaceholder: '打开一个 JSON 文件来可视化！',
        noJsonData: '没有 JSON 数据',
        invalidJson: '无效的 JSON',
        clearConfirm: '清空所有数据？',
        cannotDeleteRoot: '无法删除根节点',
        keyRequired: '键名是必填的',
        keyExists: '键名已存在',
        failedToCopy: '复制失败',
        tooltip: '右键点击 / 长按',
        copyKey: '复制键名',
        copyValue: '复制值',
        msgVisualized: 'JSON 加载成功！',
        msgSaved: '已保存',
        msgAdded: '已添加',
        msgDeleted: '已删除',
        msgCleared: '数据已清空'
    }
};

export type LangKey = keyof typeof i18n;
export type TranslationType = typeof i18n.en;

// Language detection with localStorage persistence
export function detectLanguage(): LangKey {
    const saved = localStorage.getItem('jsonviz-lang');
    if (saved && saved in i18n) return saved as LangKey;
    const userLang = (navigator.language || 'en').toLowerCase();
    return userLang.startsWith('zh') ? 'zh' : 'en';
}
